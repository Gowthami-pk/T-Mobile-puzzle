<form class= "tp-form" [formGroup]="stockPickerForm">
  <mat-form-field class="tp-full-width">
    <mat-label>stocks symbol</mat-label>
    <input type="text" placeholder="Symbol e.g AAPL" autocomplete="off"
           aria-label="stocks symbol" matInput formControlName="symbol"
           value=""/>
    <mat-error><span
      *ngIf="
          !stockPickerForm.get('symbol').valid &&
          stockPickerForm.get('symbol').touched">Please enter a symbol</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>From Date</mat-label>
    <input matInput [matDatepicker]="pickerFromDate" [max]="maxDate" formControlName="fromDate" (dateChange)="fetchQuote()">
    <mat-datepicker-toggle matSuffix [for]="pickerFromDate"></mat-datepicker-toggle>
    <mat-datepicker #pickerFromDate></mat-datepicker>
  </mat-form-field>

  <mat-form-field>
    <mat-label>To Date </mat-label>
    <input matInput [matDatepicker]="pickerToDate" [max]="maxDate"
           [min]="stockPickerForm.get('fromDate').value" formControlName="toDate"
           (dateChange)="fetchQuote()">
    <mat-datepicker-toggle matSuffix [for]="pickerToDate"></mat-datepicker-toggle>
    <mat-datepicker #pickerToDate></mat-datepicker>
  </mat-form-field>
</form>

<button mat-button (click)="fetchQuote()"  mat-raised-button>Go</button>

<coding-challenge-chart
  [startDate$]="stockPickerForm.get('fromDate').value"
  [endDate$]="stockPickerForm.get('toDate').value" [data$]="quotes$">
</coding-challenge-chart>
